{% extends 'bookmanagement/index.html' %} {% load static %} {% block main_content %}

<div class="text-center">
    <a href="{% url 'bookmanagement:home' %}">Home</a>
  <h3 class="page-title font-weight-bold mb-1">Book Inventory</h3>
  <div class="table-responsive">
    <table id="zero_config" class="table table-striped table-bordered no-wrap">
      <thead>
        <tr>
	        <th>ID</th>
          <th>Title</th>
          <th>Author</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        {% for book in books %}
        <tr>
					<td>{{ book.id }}</td>
          <td><a href={% url 'bookmanagement:read_and_update_book' book.id %}>{{ book.title }}</a></td>
          <td>{{ book.author }}</td>
          <td><button>Delete</button></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- FILTERED Pagination -->
  <div class="d-flex flex-column m-auto pagination mt-5">
    <nav aria-label="Page navigation">
      <ul class="pagination pg-grey justify-content-center">
        {% if books.has_previous %}
        <li class="page-item">
          <a class="page-link" href="?page={{ 1 }}">&laquo; First</a>
        </li>
        {% endif %} {% if not books.paginator.num_pages == 1 %} 
        {% for i in books.paginator.page_range %} {% if books.number == i %}
        <li class="page-item active"><a class="page-link">{{ i }}</a></li>
        {% elif i > books.number|add:'-3' and i < books.number|add:'3' %}
        <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
        {% endif %} {% endfor %} {% endif %} {% if books.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ books.paginator.num_pages }}">Last &raquo;</a>
        </li>
        {% endif %}
      </ul>
    </nav>
  </div>
  <!-- end pagination-->
</div>

{% endblock main_content %}
